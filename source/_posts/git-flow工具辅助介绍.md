---
title: git-flowå·¥å…·è¾…åŠ©ä»‹ç»
date: 2019-11-30 22:47:39
tags:
  - git
  - git-flow
  - å·¥å…·
---

æœ€è¿‘åœ¨å®è·µè¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨äº†git-flowçš„å‘½ä»¤è¡Œå·¥å…·è¿›è¡Œç®¡ç†ï¼Œå¯¹git-flowçš„æµç¨‹æ›´åŠ æ¸…æ™°ï¼Œç°åœ¨æ€»ç»“å‡ºæ¥ä¾›å‚è€ƒã€‚

æˆ‘ä½¿ç”¨çš„æ˜¯macOSï¼Œå®‰è£…git flowå‘½ä»¤è¡Œæ–¹æ³•å¦‚ä¸‹ï¼š
```bash
brew install git-flow-avh
```

## ç¬¬ä¸€æ­¥
```bash
git flow init
```
ç®€å•æ¥è¯´ï¼Œgit flowåˆå§‹åŒ–ä¸»è¦åšäº†ä¸¤ä»¶äº‹:
1. åˆå§‹åŒ–gitä»“åº“
2. åŸºäºmasteråˆ†æ”¯åˆ›å»ºdevelopåˆ†æ”¯
```bash
git init
git checkout -b develop
```

## ç¬¬äºŒæ­¥
å‡è®¾æˆ‘ä»¬éœ€è¦è¿›è¡ŒuseråŠŸèƒ½çš„å¼€å‘
```bash
git flow feature start user
```
è¿™æ—¶git flowåšäº†ä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯åŸºäºdevelopåˆ†æ”¯ï¼Œæ–°å¼€ä¸€ä¸ªfeature/useråˆ†æ”¯ã€‚ç±»ä¼¼äºå¦‚ä¸‹gitå‘½ä»¤ï¼š
```bash
git checkout -b feature/user
```

## ç¬¬ä¸‰æ­¥
æˆ‘ä»¬åœ¨feature/useråˆ†æ”¯æŠŠuseræ¨¡å—çš„åŠŸèƒ½å¼€å‘å®Œæˆï¼Œæ­¤æ—¶å°±å¯ä»¥æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š
```bash
git flow feature finisth user
```
ä»¥ä¸Šå‘½ä»¤ï¼Œå…¶å®å°±æ˜¯åˆ‡æ¢å›developåˆ†æ”¯ï¼Œmerge feature/userçš„ä»£ç ï¼Œç„¶åå°†feature/userçš„åˆ†æ”¯åˆ é™¤ã€‚
ç±»ä¼¼äºå¦‚ä¸‹gitå‘½ä»¤ï¼š
```bash
git checkout develop
git merge feature/user
git branch --delete feature/user
```

**æ³¨æ„**ï¼šå®é™…å·¥ä½œä¸­ï¼Œæˆ‘ä»¬çš„featureåˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ï¼Œæ˜¯å…¨éƒ¨åœ¨çº¿ä¸Šå®Œæˆã€‚ç”±å®Œæˆfeatureçš„åŒå­¦ä¸Šä¼ å¯¹åº”çš„featureåˆ†æ”¯åˆ°è¿œç¨‹gitä»“åº“ï¼Œç„¶ååˆ›å»ºåˆå¹¶è¯·æ±‚ç”³è¯·ã€‚é¡¹ç›®è´Ÿè´£äººåœ¨code reviewç¡®è®¤åï¼ŒåŒæ„åˆå¹¶è¯¥åˆ†æ”¯åˆ°developåˆ†æ”¯ï¼Œå¹¶åˆ é™¤è¯¥featureåˆ†æ”¯ã€‚

ç¬¬ä¸‰æ­¥åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œä¼šä¸æ–­æœ‰æ–°çš„featureåˆ†æ”¯åˆå¹¶åˆ°developåˆ†æ”¯ã€‚

## ç¬¬å››æ­¥
featureå¼€å‘å®Œä¹‹åï¼Œå¼€å§‹å‡†å¤‡releaseåˆ†æ”¯ææµ‹ã€‚ç±»ä¼¼äºstartä¸€ä¸ªfeatureåˆ†æ”¯ï¼Œreleaseåˆ†æ”¯å‘½ä»¤å¦‚ä¸‹ï¼š
```bash
git flow release start v1.0
git flow release publish v1.0
```
ä¸Šé¢ä¸¤è¡Œå‘½ä»¤ï¼Œå°±æ˜¯åŸºäºdevelopåˆ†æ”¯æ–°å»ºä¸€ä¸ªrelease/v1.0åˆ†æ”¯ï¼Œç„¶åå°†æ”¹åˆ†æ”¯æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚æµ‹è¯•å›å½’è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°æœ‰é—®é¢˜ï¼Œæ‰€æœ‰bugfixéƒ½åœ¨æ”¹åˆ†æ”¯è¿›è¡Œè°ƒæ•´ã€‚
ç±»ä¼¼äºå¦‚ä¸‹gitå‘½ä»¤ï¼š
```bash
git checkout develop
git checkout -b release/v1.0
git push -u origin release/v1.0
```

## ç¬¬äº”æ­¥
releaseåˆ†æ”¯å®Œæˆä¹‹åï¼Œå®Œæˆå¦‚ä¸‹å‘½ä»¤ï¼Œå°†æ‰€æœ‰ä»£ç å›è¡¥åˆ°developåˆ†æ”¯ï¼Œæœ€ååˆå¹¶åˆ°masteråˆ†æ”¯ã€‚
```bash
git flow release finish v1.0
```
**æ³¨æ„** å®é™…ç”Ÿäº§ç¯å¢ƒï¼Œæ¶‰åŠåˆ°developåˆ†æ”¯å’Œmasteråˆ†æ”¯çš„ä»£ç mergeï¼Œä¸€èˆ¬éƒ½æ˜¯åœ¨çº¿ä¸Šå‘èµ·merge requestæ¥å®Œæˆã€‚git flowå·¥å…·åªæ˜¯åšä¸€ä¸ªè¾…åŠ©å‚è€ƒï¼Œä¸éœ€è¦æ‰€æœ‰å‘½ä»¤éƒ½ä½¿ç”¨ã€‚
ç±»ä¼¼äºå¦‚ä¸‹gitå‘½ä»¤ï¼š
```bash
git checkout develop
git merge release/v1.0
git tab v1.0
git checkout master
git merge develop
```
ğŸ‘Œï¼Œç»è¿‡ä¸Šé¢çš„æ“ä½œï¼Œä¸€ä¸ªç›¸å¯¹å®Œæ•´çš„git-flowæµç¨‹å°±æ„‰å¿«åœ°èµ°äº†ä¸€éã€‚ç”±äºgit flowçš„å‘½ä»¤éå¸¸æ¸…æ™°æ˜“æ‡‚ï¼Œè€Œä¸”èƒŒåæ‰§è¡Œçš„gitæ“ä½œå…¶å®ä¹Ÿç›¸å¯¹ç®€å•ï¼Œå°±ä¸æŠŠæ¯ä¸€æ­¥æ‰§è¡Œçš„ç»“æœæˆªå›¾æ¼”ç¤ºäº†ã€‚

git flowçš„å‘½ä»¤è¡Œå·¥å…·ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šè¾…åŠ©æˆ‘ä»¬ç®€åŒ–git flowæµç¨‹çš„æ“ä½œï¼Œä½†æ˜¯æœ€é‡è¦çš„æ˜¯æˆ‘ä»¬å¦‚æœçœŸçš„åœ¨ç”¨git flowçš„æ–¹æ³•è®ºå¼€å‘ï¼Œä¸€å®šè¦å¯¹git flowæœ¬èº«çš„æµç¨‹æœ‰éå¸¸æ¸…æ™°çš„è®¤è¯†ï¼Œæ‰èƒ½æ›´å¥½å€ŸåŠ©git flowå‘½ä»¤æé«˜å·¥ä½œä¸­çš„æ•ˆç‡ã€‚

å¦å¤–ï¼Œåœ¨è¯•ç”¨git flowå‘½ä»¤è¡Œå·¥å…·çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘å’Œå…¬å¸çš„åŒäº‹ä¹Ÿè®¨è®ºäº†ä¸‹å…¶é™åˆ¶ã€‚æ¯”å¦‚æˆ‘ä»¬å¦‚æœæœ‰è¶…è¿‡ä¸€æ¡ä¸»çº¿ï¼Œæ¯”å¦‚ï¼Œå¤šä¸ªå®šåˆ¶ç‰ˆæœ¬çš„æ—¶å€™ï¼Œæ ‡å‡†çš„git flowå°±ä¸èƒ½æ»¡è¶³å¼€å‘éœ€æ±‚ã€‚ä½†æ˜¯è¦ç»“åˆgit flowæœ¬èº«çš„è§„èŒƒæ€§å»è¡ç”Ÿä¸€äº›è§£å†³æ–¹æ¡ˆå‡ºæ¥ä¹Ÿæ˜¯æœ‰çš„ï¼Œå¦‚ä¸‹ï¼š
- æ–°å¼€ä»“åº“èµ°git flowå¼€å‘å®šåˆ¶ç‰ˆ
- å¢åŠ modify/
